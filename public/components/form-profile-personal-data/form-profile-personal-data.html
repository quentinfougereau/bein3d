<!-- <script src="../webcomponentsjs/webcomponents.js"></script> -->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../ajax-form/ajax-form.html">
<link rel="import" href="../core-ajax/core-ajax.html">

<polymer-element name="form-profile-personal-data">
    <template>        
        <div id="content">
            <div id="infoPerso">
                <paper-input floatingLabel id="nom" name="nom" label="Nom" value="{{nom}}"></paper-input>
                <paper-input floatingLabel id="prenom" name="prenom" label="PrÃ©nom" value="{{prenom}}"></paper-input>
                <paper-input floatingLabel id="email" type="email" name=email label="Adresse Email" value="{{email}}"></paper-input>
                <paper-input floatingLabel id="adresse" name="adresse" label="Adresse" value="{{adresse}}"></paper-input>
                <paper-input floatingLabel id="ville" name="ville" label="ville" value="{{ville}}"></paper-input>
                <paper-input floatingLabel id="cp" name="cp" label="Code Postal" value="{{cp}}"></paper-input>
            </div>
            <paper-button id="validateForm" class="colored" label='OK' on-click="{{send}}{{afficherNomPrenomClient}}">
                <core-icon icon='check'> 
                </core-icon>
            </paper-button>
            <core-ajax id="ajax" url="http://localhost/bein3d/public/profil/update-personal-data" method="POST" params='{"nom": "{{nom}}","prenom": "{{prenom}}", "email": "{{email}}", "adresse": "{{adresse}}", "ville": "{{ville}}", "cp": "{{cp}}"}' response="{{response}}"></core-ajax>
        </div>
    </template>
    <script>
        Polymer('form-profile-personal-data', {
            send: function () {
                this.$.ajax.go();                
            },
            afficherNomPrenomClient: function () {
                var nom = this.$.nom.value;
                var prenom = this.$.prenom.value;
                $('#nomClient').replaceWith("<h2 id='nomClient'>" + nom + " " + prenom + "</h2>");
            }
        });
    </script>
</polymer-element>